generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum enumRole{
  admin
  gerente
  comum
}


model usuario{
  id Int @id @default(autoincrement())
  nome String 
  username String @unique 
  cpf String @unique 
  role enumRole 
  status Boolean 
  dataCadastro DateTime @default(now())
  id_cadastrou Int?
  reservaRelacionamento reserva[] @relation(name:"usuarioReservaUsername") 
}

model local{
  id Int @id @default(autoincrement())
  capacidade Int 
  status Boolean
  local String
  descricao String
  reservaRelacionamento reserva[] @relation(name:"localReservaId") 
}

model reserva{
    id Int @id @default(autoincrement())
    dataInicio DateTime @default(now())
    dataEventoFinal DateTime 
    status Boolean
    id_local Int
    localRelacionamento local @relation(fields:[id_local],references:[id],name:"localReservaId",onDelete:Cascade) 
    username_usuario String
    usuarioRelacionamento usuario @relation(fields:[username_usuario],references:[username],name:"usuarioReservaUsername",onDelete:Cascade)

}
